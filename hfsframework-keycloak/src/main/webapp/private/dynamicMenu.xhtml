<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:facet name="first">
		<title>Predial<ui:insert name="tituloPagina"></ui:insert></title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	</f:facet>

	<h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
	
	<h:outputStylesheet name="primeflex/primeflex.css" library="css" />	
			
	<link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/css/system.css" />
	
</h:head>

<h:body>
<h:form>
<h2>Any authenticated user can access this page.</h2>
<ui:include src="../include-logout.xhtml" />

<p>Here is a dynamic menu built from the permissions returned by the server:</p>

<ul>
	<c:if test="#{controller.authzContext.hasResourcePermission('Protected Resource')}">
	    <li>
	        Do user thing
	    </li>
	</c:if>

	<c:if test="#{controller.authzContext.hasResourcePermission('Premium Resource')}">
	    <li>
	        Do  user premium thing
	    </li>
	</c:if>

	<c:if test="#{controller.authzContext.hasPermission('Admin Resource', 'urn:servlet-authz:protected:admin:access')}">
	    <li>
	        Do administration thing
	    </li>
	</c:if>
</ul>

</h:form>
</h:body>

</html>
